<!DOCTYPE html>
<html lang = "en">
  <head>
    <meta charset     = "UTF-8">
    <meta http-equiv  = "X-UA-Compatible" content = "IE=edge">
    <meta name        = "viewport" content = "width = device-width, initial-scale = 1.0">
    <link href        = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src       = "https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src       = "https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
    <script src       = "https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    
    <title>Tessa Portfolio</title>
  </head>

  <!-- Body of webpage -->
  <body>

    <!-- Accessing Navbar components from script -->
    <navbar
      :pages          = "pages"
      :active-page    = "activePage"
      :nav-link-click = "(index) => activePage = index"
    ></navbar>

    <!-- Accessing content of page from app component from script-->
    <page-viewer
      :page = "pages[activePage]"
    ></page-viewer>

    <!-- Templated Script -->
    <script> 

      //create an app containing data of pages
      let app = Vue.createApp({
        data(){
          return{
            activePage: 0,
            pages: [
              {
                link        : {text: 'Home', url: 'index.html'},
                pageTitle   : 'Home Page',
                pageContent : 'This is the Home content'
              },
              {
                link        : {text: 'Projects', url: 'projects.html'},
                pageTitle   : 'Projects Page',
                pageContent : 'This is the Project content'
              },
              {
                link        : {text: 'Contact', url: 'contact.html'},
                pageTitle   : 'Contact Page',
                pageContent : 'This is the Contact content'
              }
            ]
          };
        }
      });

      //creating a dynamic component for each page
      //consisting of title and content
      app.component('page-viewer', {
        props: ['page'],
        template: `
          <div class="container">
            <h1>{{page.pageTitle}}</h1>
            <p>{{page.pageContent}}</p>
          </div>`
      });

      //creating a dynamic component for navbar
      app.component('navbar', {
        props: ['pages', 'activePage', 'navLinkClick'],
        template: `
          <nav :class = "['navbar', 'navbar-expand-lg', 'navbar-dark', 'bg-dark']">
            <div class = "container-fluid">
              <a class = "navbar-brand" href="#">Portfolio</a>
              <ul class = "navbar-nav me-auto mb-2 mb-lg-0">
                <li v-for = "(page, index) in pages" class="nav-item" :key="index">
                  <a 
                    class           = "nav-link"
                    :class          = "{active: activePage == index}"
                    aria-current    = "page"
                    :href           = "page.link.url"
                    :title          = "\`This link goes to the \${page.link.text} page\`"
                    @click.prevent  = "navLinkClick(index)"
                    >{{page.link.text}}
                  </a>
                </li>
              </ul>
            </div>
        </nav>`
      });

      app.mount('body')

    </script>

  </body>

</html>